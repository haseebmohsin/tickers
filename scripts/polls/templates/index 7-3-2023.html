
</head>



<!-- ************ -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ticker Extraction</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<link rel="stylesheet"
		href=
"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>
  <style>
    body{
      overflow-x: hidden;
    }
  </style>
<!-- ***********loader style*********************** -->
<style>
.loader {
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #0D6EFD;
  /*border-right: 16px solid green;
  border-bottom: 16px solid red;
  border-left: 16px solid pink;*/
  width: 120px;
  height: 120px;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
}

@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>





<!-- ***********loader style*********************** -->


  
	<style>
		.input-icons i {
			position: absolute;
      margin-top: 1%;
		}
		
		.input-icons {
			width: 100%;
			margin-bottom: 10px;
		}
		
		.icon {
			padding: 10px;
			color: black;
			min-width: 50px;
			text-align: center;
		}
		
		.input-field {
			width: 100%;
			padding: 10px;
			text-align: center;
		}
		
		h2 {
			color: black;
		}
	</style>
<script>
  // Get the date input element
  const dateInput = document.getElementById("myDateInput");

  // Set the placeholder text


  // Remove the placeholder text when a date is selected
  dateInput.addEventListener("change", function () {
    this.removeAttribute("placeholder");
  });
</script>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <!-- Brand/logo aligned to the left -->

           <a class="navbar-brand" href="#">
        <img src="/static/Forbmax_Logo.jpg" alt="" width="30" height="24" class="d-inline-block align-text-top">
       Ticker
      </a>
  
      <!-- Ticker and Logout dropdown aligned to the right -->
      <div class="ml-auto">
        <ul class="navbar-nav">
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">
              <marquee behavior="scroll" direction="left" scrollamount="3">Brand Ticker</marquee>
            </a>
          </li> -->
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle  " href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-person-circle"></i> Logout
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#">Profile</a></li>
              <!-- <li><a class="dropdown-item" href="#">Settings</a></li> -->
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
    



<div class='container-fluid' style="width: 1500px;display: block;">
  <div class='row justify-content-center mt-5 ml-5'>
    <div class='col-12 col-md-8' >
      <!-- <div class='card' style="width: 1200px;"> -->
        <div class='card-body' id='changingwidth' style="width: 1200px;">
          <div class='row mb-3'>
            <div class='col-md-4'>
              <div class='input-group'>
                <div class="input-icons">
                  <i class="fa fa-search icon">
                </i>
                  <input name="wordsearched" form="myForm" style="border-radius: 10px;border: 1px solid black;" class="input-field"
                    type="text"
                    placeholder="Search">
                </div>              
              
              </div>
            </div>
            <div class='col-md-5 '>
              <div class='d-flex justify-content-between'>
                <select id="myDropdown" style="border-radius: 10px;width: 50%;border: 1px solid black;" class='form-select p-2'>
                  <option selected value="option0">Choose Channel</option>
                  <option value="option1">Geo</option>
                  <option value="option2">Ary</option>
                  <option value="option3">Samaa</option>
                  <option value="option4">Express</option>
                  <option value="option5">Dunya</option>
                  <option value="option6">NinetyTwo</option>




                </select>
                <div class='form-check form-switch'>
                  <input value=""  style="border-radius: 10px;border: 1px solid black;" class='form-check-input ' type='checkbox' id='toggleSwitch' />
                  <label class='form-check-label' for='toggleSwitch'>Real Time</label>
                </div>
              </div>
            </div>
          </div>
          
          <form method="POST" action="{% url 'index' %}"  id="myForm">
            {% csrf_token %}
          <div class="row gx-5"  >
            <div class="col-sm-6 col-md-2" style="display: none;">
              
              <input   name="channel_name" style="width: 100%;border-radius: 10px;border: 1px solid black;" id="namechannel" type='text' class='form-control' />

            </div>
            <div class="col-sm-6 col-md-2">
              
              <input  name="gettingdate" style="width: 100%;border-radius: 10px;border: 1px solid black;"  type='date' class='form-control' />

            </div>
            <div class="col-sm-6 col-md-2">
              <input name="gettingdateend" style="width: 100%;border-radius: 10px;border: 1px solid black;" type='date' class='form-control' />

            </div>
            <div class="col-sm-6 col-md-2">
              <input name="gettingtime" style="width: 100%;border-radius: 10px;border: 1px solid black;" type='time' class='form-control' />

            </div>
            <div class="col-sm-6 col-md-2">
              <input name="gettingtimeend" style="width: 100%;border-radius: 10px;border: 1px solid black;" type='time' class='form-control' />
 
            </div>

            <div class="col-sm-6 col-md-4">
              <button class='btn btn-primary' style="border-radius: 10px;" id="applyButton" >Apply</button>
 
            </div>
          </div>
        </form>
       
          <div class='row mb-4'>
            <div class='col-md-12'>
              <!-- <button class='btn btn-primary' onclick="console.log('clicking apply')">Apply</button> -->
            </div>
          </div>
          <!-- *************loaderhtml************ -->
          <!-- *************loaderhtml************ -->
 
            <table class='table table-sm table-striped'  id="fulltable"  style="width: 77%;display: none;">
              <thead class='table-light'  id="iwilldisplay">
                <tr >
                  <th scope='col' style="text-align: center;">Channel</th>
                  <th scope='col' style="text-align: center;">News</th>
                  <th scope='col' style="text-align: center;">Date</th>
                  <th scope='col' style="text-align: center;">Time</th>

             

                <tr >
                  <td style="width: 10%;"><img id='onelogo' width="70%"></td>
                  <td ><img id="one" src="" width="100%" height="80vh"  ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timeone" class="mb-4" style="text-align:center"  ></h3></td>


                </tr>
                <tr>
                  <td style="width: 10%;"><img id='twologo' width="70%"></td>

                  <td ><img id="two" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timetwo" class="mb-4" style="text-align:center"  ></h3></td>

                  </tr>
                  <tr>
                  <td style="width: 10%;"><img id='threelogo' width="70%"></td>

                  <td ><img id="three" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timethree" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr>
                  <td style="width: 10%;"><img id='fourlogo' width="70%"></td>

                  <td ><img id="four" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timefour" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr>
                  <td style="width: 10%;"><img id='fivelogo' width="70%"></td>

                  <td ><img id="five" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timefive" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr id="displaysix">
                  <td style="width: 10%;"><img id='sixlogo' width="70%"></td>

                  <td ><img id="six" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timesix" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr id="displayseven">
                  <td style="width: 10%;"><img id='sevenlogo' width="70%"></td>

                  <td ><img id="seven" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timeseven" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr id="displayeight">
                  <td style="width: 10%;"><img id='eightlogo' width="70%"></td>

                  <td ><img id="eight" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timeeight" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr id="displaynine">
                  <td style="width: 10%;"><img id='ninelogo' width="70%"></td>

                  <td ><img id="nine" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timenine" class="mb-4" style="text-align:center"  ></h3></td>

                </tr>
                <tr id="displayten">
                  <td style="width: 10%;"><img id='tenlogo' width="70%"></td>

                  <td ><img id="ten" src="" width="100%" height="80vh" ></td>
                  <td width="18%"> <h3 class="date mb-4" ></h3></td>
                  <td width="18%"> <h3 id="timeten" class="mb-4" style="text-align:center"  ></h3></td>
                 

                </tr>
               
                
              </thead>
              <tbody>
              </tbody>
            </table>
          
        
           <table class='table table-sm table-striped' id="resultdisplay" style="display: none;width: 77%">
            <thead class='table-light'>
              <tr >
                <th scope='col' style="text-align: center;">Channel</th>
                <th scope='col' style="text-align: center;">News</th>
                <th scope='col' style="text-align: center;">Date</th>
                <th scope='col' style="text-align: center;">Time</th>
                <!-- <th scope='col'></th> -->
              </tr>
              </thead>
              <tbody id="table-body">
            {% for i in result %}
              <tr >
                <td style="width: 10%;"><img width="90%" src="/static/{{i.channel_image}} "></td>
                <td ><img  src="/static/{{i.ticker_image}}" width="100%" height="80vh" ></td>
                <td width="20%"> <h3 class="mt-3" >{{i.date}}</h3></td>
                <td width="20%"> <h3 class="mt-3" >{{i.time}}</h3></td>

              </tr>
            {% endfor %}
              </tbody>
              </table>
              <div id="load-more-container" id="displayoff">
                <button id="load-more-btn" class="btn btn-primary" style="display: none">Load More</button>
            </div>
         
        </div>
      <!-- </div> -->
    </div>
  </div>
</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<div  style="  display: none;margin-left: auto;margin-right: auto;" id='loading' class="loader mt-5"></div>
<br/>
<br/>
<br/>
<br/>
<h2 style="display: none;text-align: center;color: red" id="warning">Please! Select Channel and then turn on Real Time</h2>



<!-- each time template renders through return render it will be executed by when toggle button is clicked stat of elements will be change although if result is true as ajax dont look at whole template only the specified elements -->
{% if result %}
<script>
    document.getElementById('fulltable').style.display='none'
  document.getElementById('resultdisplay').style.display='block'
  document.getElementById('load-more-btn').style.display='block'

</script>
{% endif %}







<script>

var dunya=false
var programRunning = false;
var intervalSetDunya
var count=0
var intervalSetAry
var intervalSetSamaa
var intervalSetExpress
var intervalSetGeo
var intervalSetNinetyTwo



     function forOption1(optionSelected,url){
      $.ajax({
      url: url,
      method: 'GET',
     
      dataType: 'json',
      success: function(data) {
                      document.getElementById('loading').style.display='none'

        count+=1
        console.log(`data is sent ${count}`)
            document.getElementById('fulltable').style.display='block'


      var images=data.all_tickers
      var gettingTime=data.timedata
      console.log(gettingTime)
      console.log(images)
      for (let index = 0; index < images.length; index++) {
        // console.log('index',index)
        // console.log('data.date',data.date)
        // console.log('data.ticker',data.all_tickers)
        //  console.log('data.text_ocr',data.text_ocr)
        var Datetable = document.getElementsByClassName("date");
        for (var i = 0; i < Datetable.length; i++) {
  Datetable[i].innerHTML = data.date;
  Datetable[i].textAlign='center'
}
// var timeTabel=document.getElementsByClassName('time')
// for (let index = 0; index < timeTabel.length; index++) {
// timeTabel[index].innerHTML = data.time
  
// }

// var all_tabel_elements=document.querySelectorAll('td')
// for (let index = 0; index < all_tabel_elements.length; index++) {
// all_tabel_elements[index].style.border = '2px solid black'
// all_tabel_elements[index].style.borderRadius = '25px'

  
// }

// getting_tr_th=document.querySelectorAll('tr th')
// for (let index = 0; index < getting_tr_th.length; index++) {
// getting_tr_th[index].style.border = '2px solid black'
// all_tabel_elements[index].style.borderRadius = '25px'
 
// }
           
        
    
        if (index===0) {
          one=document.getElementById('one')

          one.src='/static/'+String(images[index])
          oneLogo=document.getElementById('onelogo')
          if(optionSelected==='option1'){

          oneLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      oneLogo.src='/static/ary.png'
                     oneLogo.style.width='90%'
          }

           else if (optionSelected==='option3'){
                      oneLogo.src='/static/Samaa_logo.png'
                     oneLogo.style.width='90%'
          }
             else if (optionSelected==='option4'){
                      oneLogo.src='/static/express.png'
                     oneLogo.style.width='90%'
                     oneLogo.className='mb-3'
          }
                else if (optionSelected==='option5'){
                      oneLogo.src='/static/mzl-ftpchoha.png'
                     oneLogo.style.width='90%'

          }
                 else if (optionSelected==='option6'){
                      oneLogo.src='/static/ninety_two.png'
                     oneLogo.style.width='90%'

          }

        document.getElementById('timeone').innerHTML=gettingTime[index]
        }
        if (index===1) {
          two=document.getElementById('two')

          two.src='/static/'+String(images[index])
          
             twoLogo=document.getElementById('twologo')
     if(optionSelected==='option1'){

          twoLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      twoLogo.src='/static/ary.png'
                  twoLogo.style.width='90%'
          }
                else if (optionSelected==='option3'){
                      twoLogo.src='/static/Samaa_logo.png'
                     twoLogo.style.width='90%'
          }
                else if (optionSelected==='option4'){
                      twoLogo.src='/static/express.png'
                     twoLogo.style.width='90%'
                        twoLogo.className="mb-3"

          }
                 else if (optionSelected==='option5'){
                      twoLogo.src='/static/mzl-ftpchoha.png'
                     twoLogo.style.width='90%'

          }
                  else if (optionSelected==='option6'){
                      twoLogo.src='/static/ninety_two.png'
                     twoLogo.style.width='90%'

          }


        document.getElementById('timetwo').innerHTML=gettingTime[index]
              

        }

        if (index===2) {

          three=document.getElementById('three')

          

          three.src='/static/'+String(images[index])
             threeLogo=document.getElementById('threelogo')

     if(optionSelected==='option1'){

          threeLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      threeLogo.src='/static/ary.png'
                      threeLogo.style.width='90%'

          }                
       else if (optionSelected==='option3'){
                      threeLogo.src='/static/Samaa_logo.png'
                     threeLogo.style.width='90%'
          }

            else if (optionSelected==='option4'){
                      threeLogo.src='/static/express.png'
                     threeLogo.style.width='90%'
                     threeLogo.className='mb-3'
          }

                 else if (optionSelected==='option5'){
                      threeLogo.src='/static/mzl-ftpchoha.png'
                     threeLogo.style.width='90%'
          }

                  else if (optionSelected==='option6'){
                      threeLogo.src='/static/ninety_two.png'
                     threeLogo.style.width='90%'
          }
        document.getElementById('timethree').innerHTML=gettingTime[index]
          
        }

        
        if (index===3) {

four=document.getElementById('four')


four.src='/static/'+String(images[index])
   fourLogo=document.getElementById('fourlogo')

            if(optionSelected==='option1'){

          fourLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      fourLogo.src='/static/ary.png'
                      fourLogo.style.width='90%'

          }
            else if (optionSelected==='option3'){
                      fourLogo.src='/static/Samaa_logo.png'
                     fourLogo.style.width='90%'
          }
   else if (optionSelected==='option4'){
                      fourLogo.src='/static/express.png'
                     fourLogo.style.width='90%'
                     fourLogo.className='mb-3'

          }


           else if (optionSelected==='option5'){
                      fourLogo.src='/static/mzl-ftpchoha.png'
                     fourLogo.style.width='90%'
          }

             else if (optionSelected==='option6'){
                      fourLogo.src='/static/ninety_two.png'
                     fourLogo.style.width='90%'
          }
        document.getElementById('timefour').innerHTML=gettingTime[index]

}

        
if (index===4) {

five=document.getElementById('five')


five.src='/static/'+String(images[index])
   fiveLogo=document.getElementById('fivelogo')

     if(optionSelected==='option1'){

          fiveLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      fiveLogo.src='/static/ary.png'
fiveLogo.style.width='90%'
          }  
                else if (optionSelected==='option3'){
                      fiveLogo.src='/static/Samaa_logo.png'
                     fiveLogo.style.width='90%'
          }  

                 else if (optionSelected==='option4'){
                      fiveLogo.src='/static/express.png'
                     fiveLogo.style.width='90%'
                     fiveLogo.className='mb-3'

          }   
                         else if (optionSelected==='option5'){
                      fiveLogo.src='/static/mzl-ftpchoha.png'
                     fiveLogo.style.width='90%'
          }  
               else if (optionSelected==='option6'){
                      fiveLogo.src='/static/ninety_two.png'
                     fiveLogo.style.width='90%'
          }  
        document.getElementById('timefive').innerHTML=gettingTime[index]


}

  console.log('length',data.all_tickers.length)



if (index===5) {

six=document.getElementById('six')


six.src='/static/'+String(images[index])

   sixLogo=document.getElementById('sixlogo')

     if(optionSelected==='option1'){

          sixLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      sixLogo.src='/static/ary.png'
sixLogo.style.width='90%'
          }  
                else if (optionSelected==='option3'){
                      sixLogo.src='/static/Samaa_logo.png'
                     sixLogo.style.width='90%'
          }    

                   else if (optionSelected==='option4'){
                      sixLogo.src='/static/express.png'
                     sixLogo.style.width='90%'
                     sixLogo.className='mb-3'
          
          }         

                   else if (optionSelected==='option5'){
                      sixLogo.src='/static/mzl-ftpchoha.png'
                     sixLogo.style.width='90%'
          }         
          else if (optionSelected==='option6'){
                      sixLogo.src='/static/ninety_two.png'
                     sixLogo.style.width='90%'
          }        
        document.getElementById('timesix').innerHTML=gettingTime[index]

}


if (index===6) {

seven=document.getElementById('seven')


seven.src='/static/'+String(images[index])
   sevenLogo=document.getElementById('sevenlogo')

     if(optionSelected==='option1'){

         sevenLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                     sevenLogo.src='/static/ary.png'
sevenLogo.style.width='90%'

          }        
                else if (optionSelected==='option3'){
                      sevenLogo.src='/static/Samaa_logo.png'
                     sevenLogo.style.width='90%'
          
          } 

                  else if (optionSelected==='option4'){
                      sevenLogo.src='/static/express.png'
                     sevenLogo.style.width='90%'
                     sevenLogo.className='mb-3'
          
          }  

                      else if (optionSelected==='option5'){
                      sevenLogo.src='/static/mzl-ftpchoha.png'
                     sevenLogo.style.width='90%'
          } 
                          else if (optionSelected==='option6'){
                      sevenLogo.src='/static/ninety_two.png'
                     sevenLogo.style.width='90%'
          } 
        document.getElementById('timeseven').innerHTML=gettingTime[index]
      
}


if (index===7) {

eight=document.getElementById('eight')


eight.src='/static/'+String(images[index])
   eightLogo=document.getElementById('eightlogo')

     if(optionSelected==='option1'){

         eightLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                     eightLogo.src='/static/ary.png'
                     eightLogo.style.width='90%'

          }          
                else if (optionSelected==='option3'){
                      eightLogo.src='/static/Samaa_logo.png'
                     eightLogo.style.width='90%'
          }
               else if (optionSelected==='option4'){
                      eightLogo.src='/static/express.png'
                     eightLogo.style.width='90%'
                     eightLogo.className='mb-3'
          
          }
                 else if (optionSelected==='option5'){
                      eightLogo.src='/static/mzl-ftpchoha.png'
                     eightLogo.style.width='90%'
          
          }
                     else if (optionSelected==='option6'){
                      eightLogo.src='/static/ninety_two.png'
                     eightLogo.style.width='90%'
          
          }
        document.getElementById('timeeight').innerHTML=gettingTime[index]


}


if (index===8) {

nine=document.getElementById('nine')


nine.src='/static/'+String(images[index])
   nineLogo=document.getElementById('ninelogo')

     if(optionSelected==='option1'){

          nineLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      nineLogo.src='/static/ary.png'
nineLogo.style.width='90%'
          }


                 else if (optionSelected==='option3'){
                     nineLogo.src='/static/Samaa_logo.png'
                    nineLogo.style.width='90%'
          }

                 else if (optionSelected==='option4'){
                     nineLogo.src='/static/express.png'
                    nineLogo.style.width='90%'
                     nineLogo.className='mb-3'
          
          }


                 else if (optionSelected==='option5'){
                     nineLogo.src='/static/mzl-ftpchoha.png'
                    nineLogo.style.width='90%'
          }

           else if (optionSelected==='option6'){
                     nineLogo.src='/static/ninety_two.png'
                    nineLogo.style.width='90%'
          }
        document.getElementById('timenine').innerHTML=gettingTime[index]
          

}

if (index===9) {

ten=document.getElementById('ten')


ten.src='/static/'+String(images[index])
   tenLogo=document.getElementById('tenlogo')

     if(optionSelected==='option1'){

          tenLogo.src='/static/geo.png'
              }
          else if (optionSelected==='option2'){
                      tenLogo.src='/static/ary.png'
tenLogo.style.width='90%'
          }
                else if (optionSelected==='option3'){
                      tenLogo.src='/static/Samaa_logo.png'
                     tenLogo.style.width='90%'
          }

                       else if (optionSelected==='option4'){
                      tenLogo.src='/static/express.png'
                     tenLogo.style.width='90%'
                     tenLogo.className='mb-3'
          
          }

                else if (optionSelected==='option5'){
                     nineLogo.src='/static/mzl-ftpchoha.png'
                    nineLogo.style.width='90%'
          }
           else if (optionSelected==='option6'){
                     nineLogo.src='/static/ninety_two.png'
                    nineLogo.style.width='90%'
          }
        document.getElementById('timeten').innerHTML=gettingTime[index]
        

}

      }
              console.log(`data is finished ${count}`)


      // console.log('images',images)
      //   // Process the response data
      //   console.log(data);
      },
      error: function(error) {
        // Handle any errors that occurred during the request
        console.error(error);
      }
    });
  }
$(document).ready(function() {



  $("#myForm").submit(function(event) {
    event.preventDefault();

    var selectedOption = $("#myDropdown").val();
    $("#namechannel").val(`${selectedOption}`);
    $(this).unbind("submit").submit();


  })
  // Ajax call always look at elements inside it not whole template once the if result condition in set to true during template rendering it will remain true ajax rendering will not effect it unless changed by return render {'result':False} type expression
  // here although above i have defined if result but during toggleSwitch although if result will remain true but ajax will look at those element and change their state but if had defined if not result as the result will be remaining True so table was not rendering
// so you can override if condition element throught ajax but only in case they exists in previous one you have defind table under if not result which will always be False so you get error
  // Add a click event listener to the "Apply" button


   

  $("#toggleSwitch").click(function() {
    document.getElementById('resultdisplay').style.display='none'
    document.getElementById('load-more-btn').style.display='none'
    document.getElementById('loading').style.display='block'
    programRunning = !programRunning;
    var selectedOption = $("#myDropdown").val();
      clearInterval(intervalSetAry)
      clearInterval(intervalSetDunya)
      clearInterval(intervalSetSamaa)
      clearInterval(intervalSetExpress)
      clearInterval(intervalSetGeo)
      clearInterval(intervalSetNinetyTwo)




    // if (selectedOption==='option1'){
    // }
    // else if (selectedOption==='option2'){
    // }

    /* toggleButton.classList.toggle('on');*/
    if (programRunning) {
      // console.log(selectedOption)
      // forOption1()

      applyOption(selectedOption);

  } else {
      document.getElementById('loading').style.display='none'
                document.getElementById('warning').style.display='none'

clearInterval(intervalSetDunya)
clearInterval(intervalSetAry)
clearInterval(intervalSetSamaa)
clearInterval(intervalSetExpress)

clearInterval(intervalSetGeo)
clearInterval(intervalSetNinetyTwo)
    // the purpose of doing reload is when we click to turn off realtime the function are running in backend fro 2 to 3 iteration even when button is clicked to stop this it is used as reload takes place the old session will be expired and new request will only display data data after clicking button after reload window.location.href is better as i was getting problem when i click apply then and turn off realtime the resultdislay table appears to avoid this update window.location.reload() to window.location.href

window.location.href="{% url 'index' %}"
    // window.location.reload()
       // document.getElementById('loading').style.display='none'

// document.getElementById('fulltable').style.display='none'



    
   
  }
  if (selectedOption==='option1'){

    forOption1(selectedOption,url="{% url 'dunya_ticker' %}")
  }
  else if (selectedOption==='option2'){
    forOption1(selectedOption,url="{% url 'ary_ticker' %}")

  }
   else if (selectedOption==='option3'){
    forOption1(selectedOption,url="{% url 'samaa_ticker' %}")

  }
     else if (selectedOption==='option4'){
    forOption1(selectedOption,url="{% url 'express_ticker' %}")

  }
     else if (selectedOption==='option5'){
    forOption1(selectedOption,url="{% url 'geo_ticker' %}")

    document.getElementById('fulltable').style.width='1050px'

  }
   else if (selectedOption==='option6'){
    forOption1(selectedOption,url="{% url 'ninety_two_ticker' %}")


  }

  
      

    // console.log('clicked')
    // Get the selected option value
    
    // Apply the selected option
  });
});


// Function to apply the selected option
function applyOption(option) {
  // clearInterval(intervalSetDunya);

  // Perform the desired action based on the selected option
  switch (option) {
  
    case "option1":
      // dunya=true

      // Action for Option 1
    intervalSetDunya=setInterval(forOption1,18000,'option1',url="{% url 'dunya_ticker' %}")

      /*document.getElementById('iwilldisplay').style.display='block'*/
   
     
 
      // console.log("Option 1 selected");
      break;
    case "option2":
          intervalSetAry=setInterval(forOption1,18000,'option2',url="{% url 'ary_ticker' %}")

      // Action for Option 2
      console.log("Option 2 selected");
      break;
    case "option3":
        intervalSetAry=setInterval(forOption1,18000,'option3',url="{% url 'samaa_ticker' %}")

      // Action for Option 3
      console.log("Option 3 selected");
      break;
    case "option4":
       intervalSetExpress=setInterval(forOption1,18000,'option4',url="{% url 'express_ticker' %}")
       break;
   
    case "option5":
       intervalSetGeo=setInterval(forOption1,18000,'option5',url="{% url 'geo_ticker' %}")
       break;
    case "option6":
       intervalSetNinetyTwo=setInterval(forOption1,18000,'option6',url="{% url 'ninety_two_ticker' %}")
       break;
    default:
        document.getElementById('loading').style.display='none'
                document.getElementById('warning').style.display='block'


      // Default action if no option is selected
      
      console.log("No option selected");
  }
}




/* Paginator function*/
$(document).ready(function() {
    var page = 2;  // Starting from the second page
    var loadMoreBtn = $("#load-more-btn");
    var tableBody = $("#table-body");
    var loader = $("#loader");
    var loadMoreContainer = $("#load-more-container");

    loadMoreBtn.click(function() {
     
        loadMoreBtn.prop('disabled', true); // Disable the button to prevent multiple clicks
        loader.show(); // Show the loader

        $.ajax({
            url: "{% url 'table_view' %}",
            data: { page: page },
            dataType: 'html',
            success: function(data) {

              console.log('data',data)
              
                var newRows = $(data).find("#resultdisplay tr:not(:first)"); // Extract the new rows from the response, excluding the header row
                tableBody.append(newRows); // Append the new rows to the table body
                

                page++;
                loadMoreBtn.prop('disabled', false); // Enable the button after new data is loaded
                loader.hide(); // Hide the loader
                if (newRows.length === 0) {
                    // loadMoreContainer.remove(); // Remove the load more button container
                }
            },
            error: function(error) {
                console.error(error);
                loadMoreBtn.prop('disabled', false); // Enable the button in case of error
                loader.hide(); // Hide the loader
            },
            complete: function() {
                // loadMoreContainer.remove(); // Remove the load more button container after the first click
            }
        });
    });
});


</script>

  

</body>




</html>


 